# LeRobot Behavioral Cloning Training Job Template
#
# Template used by submit-azureml-lerobot-training.sh.
# The entry script (entry-lerobot-train.sh) is uploaded with the job via `code: .`
# and handles setup, dependency installation, payload unpacking, dataset download,
# training execution, and checkpoint registration.
#
# The submission script sets environment, compute, and all environment variables
# at submission time via --set flags.
#
# To submit a job, use submit-azureml-lerobot-training.sh with appropriate flags.

$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
type: command
display_name: LeRobot Behavioral Cloning Training
description: LeRobot imitation learning training (ACT/Diffusion) with MLflow integration and checkpoint registration.
experiment_name: lerobot-training
identity:
  type: managed_identity

environment: azureml:lerobot-training-env:latest
compute: azureml:cpu-cluster
code: .

command: bash entry-lerobot-train.sh

outputs:
  checkpoints:
    type: uri_folder
    mode: upload
