// =============================================================================
// Terraform Variables Example
// =============================================================================
// Copy to terraform.tfvars and customize:  cp terraform.tfvars.example terraform.tfvars
// Full variable reference: variables.tf
// =============================================================================

// Core Configuration (REQUIRED)
environment     = "dev"
location        = "westus3"
resource_prefix = "yourprefix"
instance        = "001"

// Resource Group
should_create_resource_group = true

// AKS System Node Pool
system_node_pool_vm_size    = "Standard_D8ds_v5"
system_node_pool_node_count = 1

// GPU Node Pools
//
// gpu_driver options:
//   "Install" - AKS installs the NVIDIA datacenter driver on the node
//   "None"    - No AKS-managed driver; use GPU Operator or custom installation
//
// node_labels: Kubernetes labels applied to nodes at provisioning time.
//   Set nvidia.com/gpu.deploy.driver=false on vGPU nodes (RTX PRO 6000) to
//   skip GPU Operator driver management. The GRID driver DaemonSet in
//   deploy/002-setup/manifests/gpu-grid-driver-installer.yaml handles these nodes.

// Single GPU pool (Spot A10 â€” simplest configuration)
node_pools = {
  gpu = {
    vm_size                 = "Standard_NV36ads_A10_v5"
    subnet_address_prefixes = ["10.0.7.0/24"]
    node_taints             = ["nvidia.com/gpu:NoSchedule", "kubernetes.azure.com/scalesetpriority=spot:NoSchedule"]
    gpu_driver              = "Install"
    node_labels = {
      "kubernetes.azure.com/scalesetpriority" = "spot"
    }
    priority                = "Spot"
    enable_auto_scaling     = true
    min_count               = 1
    max_count               = 1
    zones                   = []
    eviction_policy         = "Delete"
  }
}

// Multi-GPU pool example (RTX PRO 6000 + H100):
//
// node_pools = {
//   rtxprogpu = {
//     vm_size                 = "Standard_NC128ds_xl_RTXPRO6000BSE_v6"
//     subnet_address_prefixes = ["10.0.7.0/24"]
//     node_taints             = ["nvidia.com/gpu:NoSchedule"]
//     gpu_driver              = "None"
//     node_labels = {
//       "nvidia.com/gpu.deploy.driver" = "false"
//     }
//     priority            = "Regular"
//     enable_auto_scaling = true
//     min_count           = 1
//     max_count           = 1
//     zones               = []
//   }
//   h100gpu = {
//     vm_size                 = "Standard_NC40ads_H100_v5"
//     subnet_address_prefixes = ["10.0.8.0/24"]
//     node_taints = [
//       "nvidia.com/gpu:NoSchedule",
//       "kubernetes.azure.com/scalesetpriority=spot:NoSchedule"
//     ]
//     gpu_driver = "None"
//     node_labels = {
//       "kubernetes.azure.com/scalesetpriority" = "spot"
//     }
//     priority            = "Spot"
//     eviction_policy     = "Delete"
//     enable_auto_scaling = true
//     min_count           = 1
//     max_count           = 1
//     zones               = []
//   }
// }

// OSMO Backend Services
should_deploy_postgresql = true
should_deploy_redis      = true

// Network Security
// Three modes available (see README.md for details):
//   Full Private (default): Both true - VPN required for all access
//   Hybrid:                 private_endpoint=true, private_aks_cluster=false - No VPN for kubectl
//   Full Public:            Both false - Not recommended without additional security
should_enable_private_endpoint    = true
should_enable_private_aks_cluster = true

should_enable_public_network_access     = true
should_add_current_user_key_vault_admin = true
should_enable_microsoft_defender        = true
