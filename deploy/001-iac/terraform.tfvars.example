// =============================================================================
// Terraform Variables Example
// =============================================================================
// Copy to terraform.tfvars and customize:  cp terraform.tfvars.example terraform.tfvars
// Full variable reference: variables.tf
// =============================================================================

// Core Configuration (REQUIRED)
environment     = "dev"
location        = "westus3"
resource_prefix = "yourprefix"
instance        = "001"

// Resource Group
should_create_resource_group = true

// AKS System Node Pool
system_node_pool_vm_size    = "Standard_D8ds_v5"
system_node_pool_node_count = 1

// GPU Node Pool
node_pools = {
  gpu = {
    vm_size                 = "Standard_NV36ads_A10_v5"
    subnet_address_prefixes = ["10.0.7.0/24"]
    node_taints             = ["nvidia.com/gpu:NoSchedule", "kubernetes.azure.com/scalesetpriority=spot:NoSchedule"]
    gpu_driver              = "Install"
    priority                = "Spot"
    enable_auto_scaling     = true
    min_count               = 1
    max_count               = 1
    zones                   = []
    eviction_policy         = "Delete"
  }
}

// OSMO Backend Services
should_deploy_postgresql = true
should_deploy_redis      = true

// Network Security - First-deployment combo: Hybrid (private Azure services, public AKS)
// No VPN required for kubectl or 002-setup. See README.md for Full Private / Full Public.
should_enable_private_endpoint    = true
should_enable_private_aks_cluster = false

should_enable_public_network_access     = true
should_add_current_user_key_vault_admin = true

// OSMO: Scenario 2 - Workload Identity (key-less auth, recommended)
// Terraform creates an OSMO managed identity and federated credentials so pods
// can authenticate to Azure (Storage, Key Vault, ACR) without secrets.
// See docs/osmo-authentication.md for details.
osmo_config = {
  should_enable_identity   = true
  should_federate_identity = true
  control_plane_namespace  = "osmo-control-plane"
  operator_namespace       = "osmo-operator"
  workflows_namespace      = "osmo-workflows"
}
